# DB Testing Pattern Makefile
.PHONY: fmt test check example deps clean help

all: check

fmt:
	@echo "ðŸ”§ Formatting code..."
	go fmt ./...

test:
	@echo "ðŸ§ª Running tests..."
	go test -timeout 30s ./...

check: fmt test
	@echo "âœ… All checks passed!"

example:
	@echo "ðŸ“š Running DB testing example..."
	go test -run TestRepositoryExample

deps:
	@echo "ðŸ“¦ Installing dependencies..."
	go mod tidy
	go mod download

clean:
	@echo "ðŸ§¹ Cleaning..."
	go clean -testcache

help:
	@echo "DB Testing Pattern:"
	@echo ""
	@echo "  make check         - Format + test"
	@echo "  make example       - Run repository example"